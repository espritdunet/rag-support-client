2024-12-14 17:28:31,740 - rag_support - INFO - Application startup - Initializing RAG components
2024-12-14 17:28:31,740 - rag_support - INFO - Loading documents...
2024-12-14 17:28:31,740 - rag_support - DEBUG - Found source URL in data/raw/page_id_29295.md: https://support.gestixi.com/fr/doc/terminaux-de-paiement/configuration-d-un-terminal-de-paiement-yavin
2024-12-14 17:28:31,741 - rag_support - DEBUG - Processed page_id_29295.md with URL https://support.gestixi.com/fr/doc/terminaux-de-paiement/configuration-d-un-terminal-de-paiement-yavin: 4 chunks
2024-12-14 17:28:31,741 - rag_support - DEBUG - Found source URL in data/raw/page_id_41702.md: https://support.gestixi.com/fr/doc/gestion-commerciale/changement-de-la-tva
2024-12-14 17:28:31,741 - rag_support - DEBUG - Processed page_id_41702.md with URL https://support.gestixi.com/fr/doc/gestion-commerciale/changement-de-la-tva: 1 chunks
2024-12-14 17:28:31,741 - rag_support - DEBUG - Found source URL in data/raw/page_id_27572.md: https://support.gestixi.com/fr/doc/poste-de-travail/connexion-poste-de-travail-au-support
2024-12-14 17:28:31,741 - rag_support - DEBUG - Processed page_id_27572.md with URL https://support.gestixi.com/fr/doc/poste-de-travail/connexion-poste-de-travail-au-support: 3 chunks
2024-12-14 17:28:31,741 - rag_support - DEBUG - Found source URL in data/raw/page_id_39908.md: https://support.gestixi.com/fr/doc/caisse/cas-pratique-option-et-gestion-des-stocks-en-cuisine
2024-12-14 17:28:31,741 - rag_support - DEBUG - Processed page_id_39908.md with URL https://support.gestixi.com/fr/doc/caisse/cas-pratique-option-et-gestion-des-stocks-en-cuisine: 1 chunks
2024-12-14 17:28:31,742 - rag_support - DEBUG - Found source URL in data/raw/page_id_27843.md: https://support.gestixi.com/fr/doc/gestibox/installation-du-certificat-gestixi-sous-firefox
2024-12-14 17:28:31,742 - rag_support - DEBUG - Processed page_id_27843.md with URL https://support.gestixi.com/fr/doc/gestibox/installation-du-certificat-gestixi-sous-firefox: 2 chunks
2024-12-14 17:28:31,742 - rag_support - INFO - Total documents processed: 11 chunks, average chunk size: 644 characters
2024-12-14 17:28:31,742 - rag_support - DEBUG - Sample chunk metadata: {'h1': "Configuration d'un terminal de paiement Yavin", 'source_url': 'https://support.gestixi.com/fr/doc/terminaux-de-paiement/configuration-d-un-terminal-de-paiement-yavin', 'start_index': 0, 'source': 'data/raw/page_id_29295.md', 'file_name': 'page_id_29295.md', 'page_id': 'page_id_29295', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 274}
2024-12-14 17:28:31,742 - rag_support - INFO - Loaded 11 document chunks
2024-12-14 17:28:31,742 - rag_support - INFO - Initializing vector store...
2024-12-14 17:28:31,742 - rag_support - INFO - Initializing VectorStoreManager
2024-12-14 17:28:31,753 - rag_support - INFO - Initialized embeddings model: nomic-embed-text
2024-12-14 17:28:31,753 - rag_support - INFO - Processing 11 documents through Chroma
2024-12-14 17:28:31,753 - rag_support - DEBUG - Starting Chroma.from_documents
2024-12-14 17:28:32,811 - rag_support - INFO - Vectorstore created successfully
2024-12-14 17:28:32,811 - rag_support - INFO - Creating RAG chain...
2024-12-14 17:28:32,826 - rag_support - INFO - Created RAG chain (k=5)
2024-12-14 17:28:51,166 - rag_support - WARNING - API Key received: test
2024-12-14 17:29:51,825 - rag_support - INFO - Shutting down application...
2024-12-14 17:35:12,820 - rag_support - INFO - Initializing VectorStoreManager
2024-12-14 17:35:12,831 - rag_support - INFO - Initialized embeddings model: nomic-embed-text
2024-12-14 17:35:12,832 - rag_support - INFO - Processing 2 documents through Chroma
2024-12-14 17:35:12,832 - rag_support - DEBUG - Starting Chroma.from_documents
2024-12-14 17:35:13,491 - rag_support - INFO - Vectorstore created successfully
2024-12-14 17:35:13,512 - rag_support - INFO - Created RAG chain (k=5)
2024-12-14 17:35:21,490 - rag_support - WARNING - No source URL found in /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-0/test_document_loading0/test.md
2024-12-14 17:35:21,491 - rag_support - DEBUG - Processed test.md with URL None: 3 chunks
2024-12-14 17:35:21,491 - rag_support - INFO - Total documents processed: 3 chunks, average chunk size: 48 characters
2024-12-14 17:35:21,491 - rag_support - DEBUG - Sample chunk metadata: {'h1': 'Title 1', 'source_url': None, 'start_index': 0, 'source': '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-0/test_document_loading0/test.md', 'file_name': 'test.md', 'page_id': 'test', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 38}
2024-12-14 17:35:21,496 - rag_support - WARNING - No source URL found in /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-0/test_document_loading_invalid_0/invalid.md
2024-12-14 17:35:21,496 - rag_support - DEBUG - Processed invalid.md with URL None: 0 chunks
2024-12-14 17:35:21,500 - rag_support - WARNING - No source URL found in /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-0/test_metadata_preservation0/test.md
2024-12-14 17:35:21,500 - rag_support - DEBUG - Processed test.md with URL None: 3 chunks
2024-12-14 17:35:21,500 - rag_support - INFO - Total documents processed: 3 chunks, average chunk size: 48 characters
2024-12-14 17:35:21,500 - rag_support - DEBUG - Sample chunk metadata: {'h1': 'Title 1', 'source_url': None, 'start_index': 0, 'source': '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-0/test_metadata_preservation0/test.md', 'file_name': 'test.md', 'page_id': 'test', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 38}
2024-12-14 18:02:49,221 - rag_support - DEBUG - Found source URL in /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-1/test_docs0/test_support.md: https://doc.yavin.com/setup
2024-12-14 18:02:49,222 - rag_support - DEBUG - Processed test_support.md with URL https://doc.yavin.com/setup: 2 chunks
2024-12-14 18:02:49,222 - rag_support - INFO - Total documents processed: 2 chunks, average chunk size: 150 characters
2024-12-14 18:02:49,222 - rag_support - DEBUG - Sample chunk metadata: {'h1': 'Configuration Yavin', 'h2': 'Installation', 'source_url': 'https://doc.yavin.com/setup', 'start_index': 0, 'source': '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-1/test_docs0/test_support.md', 'file_name': 'test_support.md', 'page_id': 'test_support', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 164}
2024-12-14 18:02:49,223 - rag_support - INFO - Initializing VectorStoreManager
2024-12-14 18:02:49,236 - rag_support - INFO - Initialized embeddings model: nomic-embed-text
2024-12-14 18:02:49,236 - rag_support - INFO - Processing 2 documents through Chroma
2024-12-14 18:02:49,236 - rag_support - DEBUG - Starting Chroma.from_documents
2024-12-14 18:02:50,260 - rag_support - INFO - Vectorstore created successfully
2024-12-14 18:02:50,282 - rag_support - INFO - Created RAG chain (k=5)
2024-12-14 18:02:56,839 - rag_support - ERROR - RAG chain response error: 'dict' object has no attribute 'lower'
2024-12-14 18:02:56,862 - rag_support - ERROR - Retrieval test error: 'RunnableParallel' object has no attribute 'retriever'
2024-12-14 18:02:56,897 - rag_support - DEBUG - Found source URL in data/raw/page_id_29295.md: https://support.gestixi.com/fr/doc/terminaux-de-paiement/configuration-d-un-terminal-de-paiement-yavin
2024-12-14 18:02:56,898 - rag_support - DEBUG - Processed page_id_29295.md with URL https://support.gestixi.com/fr/doc/terminaux-de-paiement/configuration-d-un-terminal-de-paiement-yavin: 4 chunks
2024-12-14 18:02:56,898 - rag_support - DEBUG - Found source URL in data/raw/page_id_41702.md: https://support.gestixi.com/fr/doc/gestion-commerciale/changement-de-la-tva
2024-12-14 18:02:56,898 - rag_support - DEBUG - Processed page_id_41702.md with URL https://support.gestixi.com/fr/doc/gestion-commerciale/changement-de-la-tva: 1 chunks
2024-12-14 18:02:56,899 - rag_support - DEBUG - Found source URL in data/raw/page_id_27572.md: https://support.gestixi.com/fr/doc/poste-de-travail/connexion-poste-de-travail-au-support
2024-12-14 18:02:56,899 - rag_support - DEBUG - Processed page_id_27572.md with URL https://support.gestixi.com/fr/doc/poste-de-travail/connexion-poste-de-travail-au-support: 3 chunks
2024-12-14 18:02:56,899 - rag_support - DEBUG - Found source URL in data/raw/page_id_39908.md: https://support.gestixi.com/fr/doc/caisse/cas-pratique-option-et-gestion-des-stocks-en-cuisine
2024-12-14 18:02:56,899 - rag_support - DEBUG - Processed page_id_39908.md with URL https://support.gestixi.com/fr/doc/caisse/cas-pratique-option-et-gestion-des-stocks-en-cuisine: 1 chunks
2024-12-14 18:02:56,899 - rag_support - DEBUG - Found source URL in data/raw/page_id_27843.md: https://support.gestixi.com/fr/doc/gestibox/installation-du-certificat-gestixi-sous-firefox
2024-12-14 18:02:56,900 - rag_support - DEBUG - Processed page_id_27843.md with URL https://support.gestixi.com/fr/doc/gestibox/installation-du-certificat-gestixi-sous-firefox: 2 chunks
2024-12-14 18:02:56,900 - rag_support - INFO - Total documents processed: 11 chunks, average chunk size: 644 characters
2024-12-14 18:02:56,900 - rag_support - DEBUG - Sample chunk metadata: {'h1': "Configuration d'un terminal de paiement Yavin", 'source_url': 'https://support.gestixi.com/fr/doc/terminaux-de-paiement/configuration-d-un-terminal-de-paiement-yavin', 'start_index': 0, 'source': 'data/raw/page_id_29295.md', 'file_name': 'page_id_29295.md', 'page_id': 'page_id_29295', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 274}
2024-12-14 18:02:56,900 - rag_support - INFO - Initializing VectorStoreManager
2024-12-14 18:02:56,916 - rag_support - INFO - Initialized embeddings model: nomic-embed-text
2024-12-14 18:02:56,916 - rag_support - INFO - Processing 11 documents through Chroma
2024-12-14 18:02:56,916 - rag_support - DEBUG - Starting Chroma.from_documents
2024-12-14 18:02:57,234 - rag_support - INFO - Vectorstore created successfully
2024-12-14 18:02:57,252 - rag_support - INFO - Created RAG chain (k=5)
2024-12-14 18:03:07,108 - rag_support - INFO - Single query response time: 9.86 seconds
2024-12-14 18:03:35,847 - rag_support - INFO - Multiple queries performance:
Average: 6.18s
Max: 10.28s
Min: 4.20s
2024-12-14 18:03:47,980 - rag_support - INFO - Concurrent queries performance:
Average: 11.86s
Max: 12.12s
2024-12-14 18:03:48,099 - rag_support - DEBUG - Found source URL in /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-1/test_load_documents0/test_docs/test_doc.md: https://test.com/doc
2024-12-14 18:03:48,099 - rag_support - DEBUG - Processed test_doc.md with URL https://test.com/doc: 2 chunks
2024-12-14 18:03:48,099 - rag_support - INFO - Total documents processed: 2 chunks, average chunk size: 78 characters
2024-12-14 18:03:48,099 - rag_support - DEBUG - Sample chunk metadata: {'h1': 'Test Document', 'h2': 'Section 1', 'source_url': 'https://test.com/doc', 'start_index': 0, 'source': '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-1/test_load_documents0/test_docs/test_doc.md', 'file_name': 'test_doc.md', 'page_id': 'test_doc', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 88}
2024-12-14 18:03:48,102 - rag_support - ERROR - Directory not found: nonexistent_dir
2024-12-14 18:03:48,103 - rag_support - DEBUG - Processed test.md: 4 chunks created
2024-12-14 18:03:48,107 - rag_support - DEBUG - Processed test.md: 4 chunks created
2024-12-14 18:03:48,109 - rag_support - DEBUG - Processed test.md: 4 chunks created
2024-12-14 18:03:48,110 - rag_support - DEBUG - Processed test.md: 4 chunks created
2024-12-14 18:03:48,113 - rag_support - ERROR - Error processing file /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-1/test_invalid_file0/nonexistent.md: [Errno 2] No such file or directory: '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-1/test_invalid_file0/nonexistent.md'
Traceback (most recent call last):
  File "/Users/netspirit/DEV/rag-support-client/src/rag_support_client/rag/processors/markdown_processor.py", line 46, in process_file
    with open(file_path, encoding="utf-8") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-1/test_invalid_file0/nonexistent.md'
2024-12-14 18:03:48,114 - rag_support - DEBUG - Processed empty.md: 0 chunks created
2024-12-14 18:41:00,195 - rag_support - DEBUG - Found source URL in /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-2/test_load_documents0/test_docs/test_doc.md: https://test.com/doc
2024-12-14 18:41:00,195 - rag_support - DEBUG - Processed test_doc.md with URL https://test.com/doc: 2 chunks
2024-12-14 18:41:00,196 - rag_support - INFO - Total documents processed: 2 chunks, average chunk size: 78 characters
2024-12-14 18:41:00,196 - rag_support - DEBUG - Sample chunk metadata: {'h1': 'Test Document', 'h2': 'Section 1', 'source_url': 'https://test.com/doc', 'start_index': 0, 'source': '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-2/test_load_documents0/test_docs/test_doc.md', 'file_name': 'test_doc.md', 'page_id': 'test_doc', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 88}
2024-12-14 18:41:00,198 - rag_support - ERROR - Directory not found: nonexistent_dir
2024-12-14 18:58:38,933 - rag_support - DEBUG - Found source URL in /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-3/test_load_documents0/test_docs/test_doc.md: https://test.com/doc
2024-12-14 18:58:38,933 - rag_support - DEBUG - Processed test_doc.md with URL https://test.com/doc: 2 chunks
2024-12-14 18:58:38,934 - rag_support - INFO - Total documents processed: 2 chunks, average chunk size: 78 characters
2024-12-14 18:58:38,934 - rag_support - DEBUG - Sample chunk metadata: {'h1': 'Test Document', 'h2': 'Section 1', 'source_url': 'https://test.com/doc', 'start_index': 0, 'source': '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-3/test_load_documents0/test_docs/test_doc.md', 'file_name': 'test_doc.md', 'page_id': 'test_doc', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 88}
2024-12-14 18:58:38,936 - rag_support - ERROR - Directory not found: nonexistent_dir
2024-12-14 19:03:29,429 - rag_support - DEBUG - Found source URL in /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-4/test_load_documents0/test_docs/test_doc.md: https://test.com/doc
2024-12-14 19:03:29,430 - rag_support - DEBUG - Processed test_doc.md with URL https://test.com/doc: 2 chunks
2024-12-14 19:03:29,430 - rag_support - INFO - Total documents processed: 2 chunks, average chunk size: 78 characters
2024-12-14 19:03:29,430 - rag_support - DEBUG - Sample chunk metadata: {'h1': 'Test Document', 'h2': 'Section 1', 'source_url': 'https://test.com/doc', 'start_index': 0, 'source': '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-4/test_load_documents0/test_docs/test_doc.md', 'file_name': 'test_doc.md', 'page_id': 'test_doc', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 88}
2024-12-14 19:03:29,431 - rag_support - ERROR - Directory not found: nonexistent_dir
2024-12-14 19:04:41,237 - rag_support - DEBUG - Found source URL in /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-5/test_load_documents0/test_docs/test_doc.md: https://test.com/doc
2024-12-14 19:04:41,238 - rag_support - DEBUG - Processed test_doc.md with URL https://test.com/doc: 2 chunks
2024-12-14 19:04:41,238 - rag_support - INFO - Total documents processed: 2 chunks, average chunk size: 78 characters
2024-12-14 19:04:41,238 - rag_support - DEBUG - Sample chunk metadata: {'h1': 'Test Document', 'h2': 'Section 1', 'source_url': 'https://test.com/doc', 'start_index': 0, 'source': '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-5/test_load_documents0/test_docs/test_doc.md', 'file_name': 'test_doc.md', 'page_id': 'test_doc', 'doc_title': '', 'section': '', 'subsection': '', 'chunk_size': 88}
2024-12-14 19:04:41,240 - rag_support - ERROR - Directory not found: nonexistent_dir
2024-12-14 19:06:24,826 - rag_support - DEBUG - Processed test.md: 4 chunks created
2024-12-14 19:06:24,874 - rag_support - DEBUG - Processed test.md: 4 chunks created
2024-12-14 19:06:24,876 - rag_support - DEBUG - Processed test.md: 4 chunks created
2024-12-14 19:06:24,877 - rag_support - DEBUG - Processed test.md: 4 chunks created
2024-12-14 19:06:24,883 - rag_support - ERROR - Error processing file /private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-6/test_invalid_file0/nonexistent.md: [Errno 2] No such file or directory: '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-6/test_invalid_file0/nonexistent.md'
Traceback (most recent call last):
  File "/Users/netspirit/DEV/rag-support-client/src/rag_support_client/rag/processors/markdown_processor.py", line 46, in process_file
    with open(file_path, encoding="utf-8") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/private/var/folders/vm/fnjqx3l95k5bth99x_7dc3d40000gn/T/pytest-of-netspirit/pytest-6/test_invalid_file0/nonexistent.md'
2024-12-14 19:06:24,884 - rag_support - DEBUG - Processed empty.md: 0 chunks created
